# Mott Park Recreation Area - Local Docker Development
# Copy to .env and customize if needed

# PostgreSQL Configuration
POSTGRES_DB=civic_os
POSTGRES_PASSWORD=postgres

# Frontend configuration
POSTGREST_URL=http://localhost:3000
VITE_POSTGREST_URL=http://localhost:3000

# S3 Configuration (MinIO for local dev)
S3_PUBLIC_ENDPOINT=http://localhost:9000
S3_BUCKET=civic-os-files
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# Keycloak Configuration
# Choose ONE option below:

# Option A: Local Keycloak (recommended for RBAC testing)
# Requires: docker-compose up keycloak
# After Keycloak is healthy (~90s), run: ./fetch-keycloak-jwk.sh && docker-compose restart postgrest
# Admin console: http://localhost:8082 (admin/admin)
# Test users: testuser/testuser (user), testmanager/testmanager (manager), testadmin/testadmin (admin)
KEYCLOAK_URL=http://localhost:8082
KEYCLOAK_REALM=mottpark-dev
KEYCLOAK_CLIENT_ID=mottpark-dev-client

# Option B: Shared dev instance (no local setup required)
# KEYCLOAK_URL=https://auth.civic-os.org
# KEYCLOAK_REALM=civic-os-dev
# KEYCLOAK_CLIENT_ID=myclient

# Notification Configuration
SITE_URL=http://localhost:4200
NOTIFICATION_TIMEZONE=America/Detroit

# SMTP Configuration (Inbucket for local dev - no auth needed)
SMTP_HOST=inbucket
SMTP_PORT=2500
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=noreply@mottpark.org

# Payment Worker Configuration (v0.13.0+)
# Get test API keys from: https://dashboard.stripe.com/test/apikeys
STRIPE_API_KEY=sk_test_your_test_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
PAYMENT_CURRENCY=USD
PAYMENT_WORKER_COUNT=1
PAYMENT_WORKER_DB_MAX_CONNS=4
