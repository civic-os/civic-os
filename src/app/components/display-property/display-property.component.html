<div class="mb-4 w-full">
  @if (showLabel()) {
    <label class="label">
      <span class="font-semibold">
        {{ prop().display_name }}
        @if (prop().description) {
          <div class="tooltip tooltip-right inline-block" [attr.data-tip]="prop().description">
            <span class="material-symbols-outlined text-info cursor-help ml-1 text-base align-middle">help_outline</span>
          </div>
        }
      </span>
    </label>
  }
  <div>
@if (datum() != null) {
  @if (propType() == EntityPropertyType.Date) {
    {{ datum() | date }}
  }
  @if (propType() == EntityPropertyType.DateTime) {
    {{ datum() | date: 'medium' }}
  }
  @if (propType() == EntityPropertyType.DateTimeLocal) {
    {{ datum() | date: 'MMM d, y, h:mm:ss a z' }}
  }
  @if (propType() == EntityPropertyType.TextShort) {
    @if (highlightTerms().length > 0) {
      <span [innerHTML]="datum() | highlight: highlightTerms()"></span>
    } @else {
      {{ datum() }}
    }
  }
  @if (propType() == EntityPropertyType.TextLong) {
    @if (highlightTerms().length > 0) {
      <span [innerHTML]="datum() | highlight: highlightTerms()"></span>
    } @else {
      {{ datum() }}
    }
  } <!-- Add Synopsis/ellipsis-->
    @if (propType() == EntityPropertyType.Money) {
      {{ datum() }}
    }
    @if (propType() == EntityPropertyType.IntegerNumber) {
      {{ datum() | number }}
    }
    @if (propType() == EntityPropertyType.DecimalNumber) {
      {{ datum() | number }}
    }
    @if (propType() == EntityPropertyType.Boolean) {
      @if (datum() == true) {
        <span class="material-symbols-outlined text-primary bg-base-100">check_box</span>
      }
      @if (datum() == false) {
        <span class="material-symbols-outlined text-error bg-base-100">disabled_by_default</span>
      }
    }
    @if (propType() == EntityPropertyType.ForeignKeyName) {
      @if (linkRelated()) {
        <a [routerLink]="['/view', prop().join_table, datum().id]">{{ datum().display_name }}</a>
      }
      @if (!linkRelated()) {
        {{ datum().display_name }}
      }
    }
    @if (propType() == EntityPropertyType.User) {
      <div class="break-words">
        @if (datum()?.private) {
          {{ datum().private.display_name }} ({{ datum().private.email }})
        }
        @if (datum() && !datum().private) {
          {{ datum().display_name }}
        }
      </div>
    }
    @if (propType() == EntityPropertyType.GeoPoint) {
      @if (datum()) {
        <div class="geo-point-display min-w-[250px]">
          <app-geo-point-map
            mode="display"
            [initialValue]="datum()"
            width="100%"
            height="150px"
            (coordinatesChange)="onCoordinatesChange($event)">
          </app-geo-point-map>
        </div>
      }
      @if (!datum()) {
        <em>No location set</em>
      }
    }
    @if (propType() == EntityPropertyType.ManyToMany) {
      <div class="flex flex-wrap gap-2">
        @if (datum() && datum().length > 0) {
          @for (item of datum(); track item.id) {
            <div class="badge badge-primary gap-2">
              @if (linkRelated()) {
                <a
                  [routerLink]="['/view', prop().many_to_many_meta?.relatedTable, item.id]"
                  class="link link-hover">
                  {{ item.display_name }}
                </a>
              } @else {
                {{ item.display_name }}
              }

              @if (item.color) {
                <span
                  class="w-3 h-3 rounded-full inline-block"
                  [style.background-color]="item.color">
                </span>
              }
            </div>
          }
        } @else {
          <em class="text-base-content/60">None</em>
        }
      </div>
    }
    @if (propType() == EntityPropertyType.Unknown) {
      {{ datum() }}
    }
  }
  @if (datum() == null) {
    <em>Not Set</em>
  }
  </div>
</div>