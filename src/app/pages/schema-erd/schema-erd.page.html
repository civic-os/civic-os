<div class="container mx-auto p-4">
  <div class="mb-6">
    <h1 class="text-3xl font-bold mb-2">Database Schema</h1>
    <p class="text-base-content/70">
      Entity Relationship Diagram showing the structure and relationships of the database tables.
    </p>
  </div>

  @if (mermaidSyntax$ | async; as syntax) {
    <div class="card bg-base-100 shadow-xl">
      <div class="card-body">
        <div class="alert alert-info mb-4">
          <span class="material-symbols-outlined">info</span>
          <div>
            <p class="font-semibold">How to read this diagram:</p>
            <ul class="list-disc list-inside text-sm mt-1">
              <li><strong>PK</strong> = Primary Key</li>
              <li><strong>FK</strong> = Foreign Key (references another table)</li>
              <li><strong>Lines with crow's feet</strong> indicate one-to-many relationships</li>
            </ul>
          </div>
        </div>

        <div
          #diagramContainer
          class="erd-container overflow-auto bg-base-200 rounded-lg p-4"
        >
          <!-- Mermaid diagram will be rendered here -->
        </div>
      </div>
    </div>
  } @else {
    <div class="flex justify-center items-center min-h-[400px]">
      <span class="loading loading-spinner loading-lg"></span>
    </div>
  }
</div>
